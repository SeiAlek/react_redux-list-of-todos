(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(12),s=n.n(o),l=n(4),u=n(25),i=n(15),d=n(2),m=n(8),p=n(23),b=n(26),f=n(6),O=n.n(f),E=n(11),j="https://mate-academy.github.io/react_dynamic-list-of-todos/api",h="".concat(j,"/todos.json"),v="".concat(j,"/users.json");function N(e){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return _.apply(this,arguments)}function _(){return(_=Object(E.a)(O.a.mark((function e(){var t,n,r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([N(h),N(v)]);case 2:return t=e.sent,n=Object(b.a)(t,2),r=n[0],a=n[1],c=r.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))||{id:null,username:"Unknown"}})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.Id="id",e.Name="username",e.Title="title",e.Completed="completed"}(r||(r={}));var g=[{name:"Id",field:r.Id},{name:"Name",field:r.Name},{name:"Title",field:r.Title},{name:"Completed",field:r.Completed}],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No message";return{type:"FINISH_LOADING",message:e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"SET_TODOS",todos:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_ERROR",error:e}},D=function(e){return{type:"SORT_REVERSE",isReverse:e}},x=function(e){return e.loading},k=function(e){return e.loaded},w=function(e){return e.todos},C=function(e){return e.error},L=function(e){return e.sortField},F=function(e){return e.isReverse},A={loading:!1,loaded:!1,message:"",error:"",sortField:r.Id,isReverse:!1,todos:[]},G=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FINISH_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,message:t.message});case"IS_LOADED":return Object(d.a)(Object(d.a)({},e),{},{loaded:!0});case"SET_TODOS":return Object(d.a)(Object(d.a)({},e),{},{todos:Object(i.a)(t.todos)});case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case"DELETE_TODO":return Object(d.a)(Object(d.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.todoId}))});case"SET_SORT_FIELD":return Object(d.a)(Object(d.a)({},e),{},{sortField:t.sortField});case"SORT_REVERSE":return Object(d.a)(Object(d.a)({},e),{},{isReverse:t.isReverse});default:return e}}),Object(p.composeWithDevTools)()),H=(n(37),function(e){var t=e.text,n=e.className,r=e.handleClick;return c.a.createElement("button",{type:"button",className:n,onClick:r},t)}),J=n(24),V=n.n(J),B=function(e){var t=e.todo,n=Object(l.b)();return c.a.createElement("tr",{className:V()({"is-selected":t.completed})},c.a.createElement("td",null,t.id),c.a.createElement("td",null,t.user.username),c.a.createElement("td",null,t.title),c.a.createElement("td",null,t.completed&&"Completed"),c.a.createElement("td",null,c.a.createElement("button",{type:"button",className:"button is-small is-danger is-light is-rounded",onClick:function(){return n({type:"DELETE_TODO",todoId:t.id})}},c.a.createElement("span",null,"Delete"))))},M=function(){var e=Object(l.b)(),t=Object(l.c)(w),n=Object(l.c)(L),o=Object(l.c)(F),s=function(e,t){var a=o?-1:1;switch(n){case r.Id:return(e.id-t.id)*a;case r.Name:return e.user.username.localeCompare(t.user.username)*a;case r.Title:return e.title.localeCompare(t.title)*a;case r.Completed:return(Number(e.completed)-Number(t.completed))*-a;default:return 0}},u=Object(a.useMemo)((function(){return Object(i.a)(t).sort(s)}),[t,n,o]);return c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,g.map((function(t){return c.a.createElement("th",{key:t.name,className:"bd-callout is-primary table__header"},c.a.createElement(H,{text:t.name,className:"button is-primary is-inverted is-outlined is-medium is-fullwidth",handleClick:function(){var r;(r=t.field)===n?e(D(!o)):(e(function(e){return{type:"SET_SORT_FIELD",sortField:e}}(r)),e(D(!1)))}}))})),c.a.createElement("th",{className:"bd-callout is-primary"}))),c.a.createElement("tbody",null,u.map((function(e){return c.a.createElement(B,{todo:e,key:e.id})}))))},P=function(){var e=Object(l.b)(),t=Object(l.c)(x),n=Object(l.c)(k),r=Object(l.c)(C),a=function(){var t=Object(E.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"START_LOADING"}),t.prev=1,t.next=4,T();case 4:n=t.sent,e(S(n)),e({type:"IS_LOADED"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(I("Oops... Something went wrong: ".concat(t.t0)));case 12:e(R());case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"title is-1"},"Redux list of todos"),t&&c.a.createElement("progress",{className:"progress is-primary",max:"100"}),!t&&!n&&c.a.createElement(H,{text:"Load ToDos",className:"button",handleClick:a}),n&&c.a.createElement(M,null),r&&c.a.createElement("h2",{className:"is-error"},r)))},U=function(){return c.a.createElement(l.a,{store:G},c.a.createElement(u.a,null,c.a.createElement(P,null)))};s.a.render(c.a.createElement(U,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.125f4cf8.chunk.js.map